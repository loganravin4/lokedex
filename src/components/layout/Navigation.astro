---
const currentPath = Astro.url.pathname;
---

<nav class="fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-sm border-b-2 border-poke-yellow/30">
  <div class="container mx-auto px-4 py-4 max-w-7xl">
    <div class="flex items-center justify-between">
      <!-- Logo/Name -->
      <a href="/" class="font-pokemon text-poke-yellow text-lg md:text-xl hover:text-poke-yellow/80 transition-colors">
        LOKÃ‰DEX
      </a>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-button"
        class="md:hidden text-white hover:text-poke-yellow transition-colors"
        aria-label="Toggle menu"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path id="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          <path id="close-icon" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>

      <!-- Nav Links -->
      <div id="nav-links" class="hidden md:flex gap-6">
        <a
          href="/"
          class={`font-bold transition-colors ${
            currentPath === '/' 
              ? 'text-poke-yellow' 
              : 'text-white hover:text-poke-yellow'
          }`}
        >
          Home
        </a>
        
        <a
          href="/projects"
          class={`font-bold transition-colors ${
            currentPath === '/projects' 
              ? 'text-poke-yellow' 
              : 'text-white hover:text-poke-yellow'
          }`}
        >
          Projects
        </a>
        <a
          href="/experience"
          class={`font-bold transition-colors ${
            currentPath === '/experience' 
              ? 'text-poke-yellow' 
              : 'text-white hover:text-poke-yellow'
          }`}
        >
          Experience
        </a>
        
        <a
          href="/contact"
          class={`font-bold transition-colors ${
            currentPath === '/contact' 
              ? 'text-poke-yellow' 
              : 'text-white hover:text-poke-yellow'
          }`}
        >
          Contact
        </a>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden mt-4 pb-4 border-t border-poke-yellow/20">
      <div class="flex flex-col gap-4 pt-4">
        <a
          href="/"
          class={`font-bold transition-colors ${
            currentPath === '/' 
              ? 'text-poke-yellow' 
              : 'text-white hover:text-poke-yellow'
          }`}
        >
          Home
        </a>
        
        <a
          href="/projects"
          class={`font-bold transition-colors ${
            currentPath === '/projects' 
              ? 'text-poke-yellow' 
              : 'text-white hover:text-poke-yellow'
          }`}
        >
          Projects
        </a>
        <a
          href="/experience"
          class={`font-bold transition-colors ${
            currentPath === '/experience' 
              ? 'text-poke-yellow' 
              : 'text-white hover:text-poke-yellow'
          }`}
        >
          Experience
        </a>
        
        <a
          href="/contact"
          class={`font-bold transition-colors ${
            currentPath === '/contact' 
              ? 'text-poke-yellow' 
              : 'text-white hover:text-poke-yellow'
          }`}
        >
          Contact
        </a>
      </div>
    </div>
  </div>
</nav>

<script>
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const navLinks = document.getElementById('nav-links');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');

  if (menuButton && mobileMenu && menuIcon && closeIcon) {
    menuButton.addEventListener('click', () => {
      const isHidden = mobileMenu.classList.contains('hidden');
      
      if (isHidden) {
        mobileMenu.classList.remove('hidden');
        menuIcon.classList.add('hidden');
        closeIcon.classList.remove('hidden');
      } else {
        mobileMenu.classList.add('hidden');
        menuIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
      }
    });

    // Close menu when clicking a link
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
        menuIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
      });
    });
  }
</script>
